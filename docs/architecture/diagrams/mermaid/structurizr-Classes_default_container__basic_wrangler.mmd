graph TB
  linkStyle default fill:#ffffff

  subgraph diagram ["Application - Application - Components"]
    style diagram fill:#ffffff,stroke:#ffffff

    subgraph 8 ["Application"]
      style 8 fill:#ffffff,stroke:#2e6295,color:#2e6295

      190("<div style='font-weight: bold'>basic_wrangler.findWranglerFiles</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Find wrangler.toml files<br />based on include/exclude<br />patterns</div>")
      style 190 fill:#85bbf0,stroke:#5d82a8,color:#000000
      191("<div style='font-weight: bold'>basic_wrangler.mapToIR</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Map wrangler configurations<br />to ArchletteIR This creates:<br />- Containers: One per<br />wrangler.toml file -<br />Deployments: One per<br />environment (production, dev,<br />preview, etc.) - Container<br />Instances: One per container<br />per environment - Container<br />Relationships: Logical<br />dependencies from service<br />bindings - Deployment<br />Relationships: Physical<br />instance-to-instance<br />connections</div>")
      style 191 fill:#85bbf0,stroke:#5d82a8,color:#000000
      192("<div style='font-weight: bold'>basic_wrangler.extractContainers</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Extract containers from<br />wrangler configurations<br />Creates one container per<br />wrangler.toml file. Each<br />container represents a<br />Cloudflare Worker (if main<br />exists) or other Cloudflare<br />service.</div>")
      style 192 fill:#85bbf0,stroke:#5d82a8,color:#000000
      193("<div style='font-weight: bold'>basic_wrangler.deriveContainerType</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Derive container type from<br />wrangler configuration Logic:<br />- If 'main' field exists →<br />Cloudflare Worker - Otherwise<br />→ Cloudflare Service<br />(generic)</div>")
      style 193 fill:#85bbf0,stroke:#5d82a8,color:#000000
      194("<div style='font-weight: bold'>basic_wrangler.extractDeploymentsAndInstances</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Extract deployments and<br />container instances Creates:<br />- One deployment per<br />environment - Container<br />instances for each container<br />in each environment</div>")
      style 194 fill:#85bbf0,stroke:#5d82a8,color:#000000
      195("<div style='font-weight: bold'>basic_wrangler.extractContainerRelationships</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Extract container<br />relationships from service<br />bindings Creates logical<br />dependencies between<br />containers based on service<br />bindings. Deduplicates<br />relationships across all<br />environments.</div>")
      style 195 fill:#85bbf0,stroke:#5d82a8,color:#000000
      196("<div style='font-weight: bold'>basic_wrangler.extractDeploymentRelationships</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Extract deployment<br />relationships from container<br />instances Creates physical<br />instance-to-instance<br />relationships based on<br />service bindings. Each<br />relationship represents an<br />actual runtime dependency in<br />a specific environment.</div>")
      style 196 fill:#85bbf0,stroke:#5d82a8,color:#000000
      197("<div style='font-weight: bold'>basic_wrangler.extractDescription</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Extract description from</div>")
      style 197 fill:#85bbf0,stroke:#5d82a8,color:#000000
      198("<div style='font-weight: bold'>basic_wrangler.parseWranglerFile</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Parse a wrangler.toml file</div>")
      style 198 fill:#85bbf0,stroke:#5d82a8,color:#000000
      199("<div style='font-weight: bold'>basic_wrangler.normalizeServiceBindings</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Normalize service bindings<br />from various formats Wrangler<br />supports multiple binding<br />formats: - [[services]] array<br />(TOML array of tables) -<br />services = [{ binding =<br />"...", service = "..." }]</div>")
      style 199 fill:#85bbf0,stroke:#5d82a8,color:#000000
      200("<div style='font-weight: bold'>basic_wrangler.getEnvironments</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Get all environments from a<br />wrangler config Returns a<br />list of environment names,<br />including: - "production"<br />(from root-level config if it<br />has deployable content) - All<br />keys from env.* sections</div>")
      style 200 fill:#85bbf0,stroke:#5d82a8,color:#000000
      201("<div style='font-weight: bold'>basic_wrangler.getEnvironmentConfig</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Get configuration for a<br />specific environment Merges<br />root-level config with<br />environment-specific<br />overrides. Environment config<br />takes precedence.</div>")
      style 201 fill:#85bbf0,stroke:#5d82a8,color:#000000
      84("<div style='font-weight: bold'>basic_wrangler.basicWranglerExtractor</div><div style='font-size: 70%; margin-top: 0px'>[Component: function]</div><div style='font-size: 80%; margin-top:10px'>Extract deployment topology<br />from Cloudflare Wrangler<br />configuration files</div>")
      style 84 fill:#85bbf0,stroke:#5d82a8,color:#000000
    end

  end